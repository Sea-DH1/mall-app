{"version":3,"sources":["webpack:///src/pages/login/login.vue","webpack:///./src/pages/login/login.vue?f105","webpack:///./src/pages/login/login.vue"],"names":["login","data","username","password","mounted","_this","this","setTimeout","$refs","focus","methods","handleUserLogin","_this2","Object","user","then","res","sessionStorage","setItem","hideUsername","hidePassword","$router","history","current","query","redirect","push","catch","ex","$notice","msg","back","computed","inputStatus","components","TransiBase","transition_base","login_login","render","_vm","_h","$createElement","_c","_self","staticClass","on","click","_v","attrs","src","__webpack_require__","alt","directives","name","rawName","value","expression","modifiers","trim","ref","type","placeholder","domProps","input","$event","target","composing","blur","$forceUpdate","length","style","keyup","indexOf","_k","keyCode","key","tag","to","staticRenderFns","Component","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/10.8cb8d5a6650194b058db.js","sourcesContent":["<template>\n  <transi-base>\n    <div class='login-wrap'>\n      <div class='title'>\n        <span class='back' @click='back'>\n          <i class='iconfont'>&#xe616;</i>\n        </span>\n        <span class='text'>登录</span>\n      </div>\n      <div class='login'>\n        <img src=\"../../common/img/load.jpg\" alt=\"\">\n      </div>\n      <div class='input-wrap'>\n        <div class='input-item'>\n          <input class='input' v-model.trim='username' ref='username' type=\"text\" placeholder=\"用户名\">\n          <span @click='hideUsername' v-show='username && username.length > 0' class='cancel-input'>x</span>\n        </div>\n        <div class='input-item'>\n          <input class='input' v-model.trim='password' type=\"password\" placeholder=\"请输入密码\">\n          <span @click='hidePassword' v-show='password && password.length > 0' class='cancel-input'>x</span>\n        </div>\n      </div>\n      <transition name='fade'>\n        <div class='login-btn' @click='handleUserLogin' @keyup.enter=\"handleUserLogin\" :style='inputStatus'>登录</div>\n      </transition>\n      <div class='other-link'>\n        <router-link tag='span' to='/find-pwd'>忘记密码</router-link>\n        <router-link tag='span' to='/register'>免费注册</router-link>\n      </div>\n    </div>\n  </transi-base>\n</template>\n\n<script>\nimport TransiBase from 'base/transition-base/transition-base';\nimport { userLogin } from 'api/user';\n\nexport default {\n  data() {\n    return {\n      username: '',\n      password: ''\n    }\n  },\n  mounted() {\n    setTimeout(() => {\n      this.$refs.username.focus();\n    }, 20);\n  },\n  methods: {\n    handleUserLogin() {\n      if(this.username === '' || this.password === '') {\n        return;\n      }\n      userLogin({username: this.username,password: this.password}).then(res => {\n        sessionStorage.setItem('token', 'mall_login_token');\n        this.hideUsername();\n        this.hidePassword();\n        if(!this.$router.history.current.query.redirect) {\n          this.$router.push('/home');\n        } else {\n          this.$router.push(this.$router.history.current.query.redirect);\n        }\n      }).catch(ex => {\n        this.$notice(ex.msg);\n      })\n    },\n    hideUsername() {\n      this.username = '';\n    },\n    hidePassword() {\n      this.password = '';\n    },\n    back() {\n      this.$router.back();\n    }\n  },\n  computed: {\n    inputStatus() {\n      if(this.username !== '' && this.password !== '') {\n        return 'opacity: 1';\n      } else {\n        return 'opacity: 0.6';\n      }\n    }\n  },\n  components: {\n    TransiBase\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n@import '~common/scss/mixins';\n\n  .login-wrap {\n    position: fixed;\n    top: 0;\n    left: 0;\n    right: 0;\n    bottom: 0;\n    z-index: 999;\n    background: #fff;\n    .title {\n      text-align: center;\n      margin: 20px 0 30px 0;\n      .back {\n        position: absolute;\n        left: 20px;\n        top: 10px;\n        display: inline-block;\n        font-size: 26px;\n        color: #666;\n      }\n      .text {\n        font-weight: 600;\n        color: #666;\n        font-size: 16px;\n      }\n    }\n    .login {\n      display: flex;\n      justify-content: center;\n      height: 80px;\n      img {\n        flex: 0 1 80px;\n        display: block;\n        height: 100%;\n      }\n    }\n    .input-wrap {\n      display: flex;\n      flex-direction: column;\n      padding: 0 10px;\n      margin-bottom: 20px;\n      .input-item {\n        display: flex;\n        align-items: center;\n        padding: 5px 15px 5px 3px;\n        margin-top: 5px;\n        margin-bottom: 15px;\n        border-bottom: 1px solid #ddd;\n        .input {\n          flex: 1;\n          padding-left: 5px;\n          height: 40px;\n          line-height: 40px;\n          outline: none;\n          font-size: 16px;\n          color: #333;\n        }\n        .cancel-input {\n          color: #666;\n          margin-left: 10px;\n          @include extend-click();\n        }\n      }\n    }\n    .login-btn {\n      margin: 0 auto 50px auto;\n      width: 70%;\n      height: 50px;\n      line-height: 50px;\n      border-radius: 25px;\n      box-shadow: 0 3px 10px 0 #ef5050;\n      color: #fff;\n      text-align: center;\n      background: #f57171;\n    }\n    .other-link {\n      display: flex;\n      justify-content: space-between;\n      padding: 0 40px;\n      font-size: 14px;\n      color: #666;\n    }\n  }\n</style>\n\n\n// WEBPACK FOOTER //\n// src/pages/login/login.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('transi-base',[_c('div',{staticClass:\"login-wrap\"},[_c('div',{staticClass:\"title\"},[_c('span',{staticClass:\"back\",on:{\"click\":_vm.back}},[_c('i',{staticClass:\"iconfont\"},[_vm._v(\"\")])]),_vm._v(\" \"),_c('span',{staticClass:\"text\"},[_vm._v(\"登录\")])]),_vm._v(\" \"),_c('div',{staticClass:\"login\"},[_c('img',{attrs:{\"src\":require(\"../../common/img/load.jpg\"),\"alt\":\"\"}})]),_vm._v(\" \"),_c('div',{staticClass:\"input-wrap\"},[_c('div',{staticClass:\"input-item\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model.trim\",value:(_vm.username),expression:\"username\",modifiers:{\"trim\":true}}],ref:\"username\",staticClass:\"input\",attrs:{\"type\":\"text\",\"placeholder\":\"用户名\"},domProps:{\"value\":(_vm.username)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.username=$event.target.value.trim()},\"blur\":function($event){return _vm.$forceUpdate()}}}),_vm._v(\" \"),_c('span',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.username && _vm.username.length > 0),expression:\"username && username.length > 0\"}],staticClass:\"cancel-input\",on:{\"click\":_vm.hideUsername}},[_vm._v(\"x\")])]),_vm._v(\" \"),_c('div',{staticClass:\"input-item\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model.trim\",value:(_vm.password),expression:\"password\",modifiers:{\"trim\":true}}],staticClass:\"input\",attrs:{\"type\":\"password\",\"placeholder\":\"请输入密码\"},domProps:{\"value\":(_vm.password)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.password=$event.target.value.trim()},\"blur\":function($event){return _vm.$forceUpdate()}}}),_vm._v(\" \"),_c('span',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.password && _vm.password.length > 0),expression:\"password && password.length > 0\"}],staticClass:\"cancel-input\",on:{\"click\":_vm.hidePassword}},[_vm._v(\"x\")])])]),_vm._v(\" \"),_c('transition',{attrs:{\"name\":\"fade\"}},[_c('div',{staticClass:\"login-btn\",style:(_vm.inputStatus),on:{\"click\":_vm.handleUserLogin,\"keyup\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.handleUserLogin($event)}}},[_vm._v(\"登录\")])]),_vm._v(\" \"),_c('div',{staticClass:\"other-link\"},[_c('router-link',{attrs:{\"tag\":\"span\",\"to\":\"/find-pwd\"}},[_vm._v(\"忘记密码\")]),_vm._v(\" \"),_c('router-link',{attrs:{\"tag\":\"span\",\"to\":\"/register\"}},[_vm._v(\"免费注册\")])],1)],1)])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-71222f70\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/pages/login/login.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-71222f70\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./login.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./login.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./login.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-71222f70\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./login.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-71222f70\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/login/login.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}