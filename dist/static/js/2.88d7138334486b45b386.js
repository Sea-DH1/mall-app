webpackJsonp([2],{"3Q4o":function(e,t,i){"use strict";function s(e,t){return new RegExp("(^|\\s)"+t+"(\\s|$)").test(e.className)}t.a=s},"5zde":function(e,t,i){i("zQR9"),i("qyJz"),e.exports=i("FeBl").Array.from},"74Fp":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=i("Gu7T"),n=i.n(s),r=i("Dd8w"),a=i.n(r),o=i("qwAB"),c=i("ATju"),d=i("1npG"),l=i("y/jF"),v=i("XEAW"),u=i("fZjL"),p=i.n(u),f={"北京":["北京"],"上海":["上海"],"天津":["天津"],"重庆":["重庆"],"河北省":["石家庄","张家口","承德","秦皇岛","唐山","廊坊","保定","沧州","衡水","邢台","邯郸"],"山西省":["太原","大同","朔州","阳泉","长治","晋城","忻州","吕梁","晋中","临汾","运城"],"辽宁省":["沈阳","朝阳","阜新","铁岭","抚顺","本溪","辽阳","鞍山","丹东","大连","营口","盘锦","锦州","葫芦岛"],"吉林省":["长春","白城","松原","吉林","四平","辽源","通化","白山","延边"],"黑龙江省":["哈尔滨","齐齐哈尔","黑河","大庆","伊春","鹤岗","佳木斯","双鸭山","七台河","鸡西","牡丹江","绥化","大兴安"],"江苏省":["南京","徐州","连云港","宿迁","淮阴","盐城","扬州","泰州","南通","镇江","常州","无锡","苏州"],"浙江省":["杭州","湖州","嘉兴","舟山","宁波","绍兴","金华","台州","温州","丽水"],"安徽省":["合肥","宿州","淮北","阜阳","蚌埠","淮南","滁州","马鞍山","芜湖","铜陵","安庆","黄山","六安","巢湖","池州","宣城"],"福建省":["福州","南平","三明","莆田","泉州","厦门","漳州","龙岩","宁德"],"江西省":["南昌","九江","景德镇","鹰潭","新余","萍乡","赣州","上饶","抚州","宜春","吉安"],"山东省":["济南","聊城","德州","东营","淄博","潍坊","烟台","威海","青岛","日照","临沂","枣庄","济宁","泰安","莱芜","滨州","菏泽"],"河南省":["郑州","三门峡","洛阳","焦作","新乡","鹤壁","安阳","濮阳","开封","商丘","许昌","漯河","平顶山","南阳","信阳","周口","驻马店"],"湖北省":["武汉","十堰","襄攀","荆门","孝感","黄冈","鄂州","黄石","咸宁","荆州","宜昌","恩施","襄樊"],"湖南省":["长沙","张家界","常德","益阳","岳阳","株洲","湘潭","衡阳","郴州","永州","邵阳","怀化","娄底","湘西"],"广东省":["广州","清远","韶关","河源","梅州","潮州","汕头","揭阳","汕尾","惠州","东莞","深圳","珠海","江门","佛山","肇庆","云浮","阳江","茂名","湛江"],"海南省":["海口","三亚"],"四川省":["成都","广元","绵阳","德阳","南充","广安","遂宁","内江","乐山","自贡","泸州","宜宾","攀枝花","巴中","达川","资阳","眉山","雅安","阿坝","甘孜","凉山"],"贵州省":["贵阳","六盘水","遵义","毕节","铜仁","安顺","黔东南","黔南","黔西南"],"云南省":["昆明","曲靖","玉溪","丽江","昭通","思茅","临沧","保山","德宏","怒江","迪庆","大理","楚雄","红河","文山","西双版纳"],"陕西省":["西安","延安","铜川","渭南","咸阳","宝鸡","汉中","榆林","商洛","安康"],"甘肃省":["兰州","嘉峪关","金昌","白银","天水","酒泉","张掖","武威","庆阳","平凉","定西","陇南","临夏","甘南"],"青海省":["西宁","海东","西宁","海北","海南","黄南","果洛","玉树","海西"],"内蒙古":["呼和浩特","包头","乌海","赤峰","呼伦贝尔盟","兴安盟","哲里木盟","锡林郭勒盟","乌兰察布盟","鄂尔多斯","巴彦淖尔盟","阿拉善盟"],"广西":["南宁","桂林","柳州","梧州","贵港","玉林","钦州","北海","防城港","南宁","百色","河池","柳州","贺州"],"西藏":["拉萨","那曲","昌都","林芝","山南","日喀则","阿里"],"宁夏":["银川","石嘴山","吴忠","固原"],"新疆":["乌鲁木齐","克拉玛依","喀什","阿克苏","和田","吐鲁番","哈密","博尔塔拉","昌吉","巴音郭楞","伊犁","塔城","阿勒泰"],"香港":["香港"],"澳门":["澳门"],"台湾":["台北","台南","其他"]};function h(){return p()(f)}var m=i("NYxO"),_=i("3Q4o"),y=i("him/");function g(e){return Object(y.a)({url:"/shipping/select.do",params:{shippingId:e}})}var A={data:function(){return{isShowMask:!1,infoList:{},provincesList:["请选择"],citiesList:["请选择"],name:"",province:"请选择",city:"请选择",address:"",phone:"",addressID:"",isEdit:!1,maskTitle:""}},created:function(){var e=this;setTimeout(function(){e._getAddressList()},20)},computed:a()({},Object(m.c)(["addressInfo"])),methods:a()({selectAddress:function(e,t){Object(_.a)(this.$refs.addressItem[t],"active")||(this.addressID=e,this.$refs.confirm.show())},setDefaultAddress:function(){var e=this;g(this.addressID).then(function(t){var i=t.data;e.saveAddressInfo({name:i.receiverName,province:i.receiverProvince,city:i.receiverCity,address:i.receiverAddress,phone:i.receiverPhone,id:e.addressID})})},editAddress:function(e){var t=this;g(e).then(function(i){var s;t.isEdit=!0;var r=i.data;t.isShowMask=!0,(s=t.provincesList).push.apply(s,n()(h())),t.maskTitle="编辑地址",t.addressID=e,t.name=r.receiverName,t.province=r.receiverProvince,t.city=r.receiverCity,t.address=r.receiverAddress,t.phone=r.receiverPhone,t.provincesSelect(!0)})},createAddress:function(){var e;this.isEdit=!1,this.isShowMask=!0,this.maskTitle="新建地址",(e=this.provincesList).push.apply(e,n()(h()))},saveAddressInfoBtn:function(){var e,t=this;this.validationInfo()&&!this.isEdit?(e={receiverName:this.name,receiverPhone:this.phone,receiverProvince:this.province,receiverCity:this.city,receiverAddress:this.address},Object(y.a)({url:"/shipping/add.do",params:e})).then(function(e){t.$notice(e.msg),t._getAddressList(),setTimeout(function(){t.hideMask()},1e3)}):this.validationInfo()&&this.isEdit&&function(e){return Object(y.a)({url:"/shipping/update.do",params:e})}({id:this.addressID,receiverName:this.name,receiverProvince:this.province,receiverCity:this.city,receiverAddress:this.address,receiverPhone:this.phone}).then(function(e){t.$notice(e.data),t._getAddressList(),setTimeout(function(){t.hideMask()},1e3)})},deleteAddress:function(e){var t,i=this;(t=e,Object(y.a)({url:"/shipping/del.do",params:{shippingId:t}})).then(function(t){i.$notice("删除地址成功"),i._getAddressList(),i.removeAddress(e)})},validationInfo:function(){return""===this.name?(this.$notice("请输入收件人姓名"),!1):"请选择"===this.province?(this.$notice("请选择省份"),!1):"请选择"===this.city?(this.$notice("请选择城市"),!1):""===this.address?(this.$notice("请填写详细地址"),!1):!!/^1\d{10}$/.test(this.phone)||(this.$notice("请输入11位手机号"),!1)},provincesSelect:function(e){var t,i;this.citiesList=["请选择"],(t=this.citiesList).push.apply(t,n()((i=this.province,f[i]||[]))),"请选择"===this.city||e||(this.city="请选择")},hideMask:function(){this.isShowMask=!1,this.name="",this.province="请选择",this.city="请选择",this.address="",this.phone=""},back:function(){this.$router.back()},_getAddressList:function(){var e=this;(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10;return Object(y.a)({url:"/shipping/list.do",params:{pageNum:e,pageSize:t}})})().then(function(t){e.infoList=t.data})}},Object(m.d)({saveAddressInfo:"SAVE_ADDRESS_INFO",saveAddressId:"SET_ADDRESS_ID"}),Object(m.b)(["removeAddress"])),components:{Scroll:o.a,transBase:c.a,RedTitle:d.a,Loading:l.a,Confirm:v.a}},C={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("red-title",{attrs:{text:"收货地址"},on:{back:e.back}}),e._v(" "),i("scroll",{staticClass:"create-address-wrap",attrs:{data:e.infoList.list}},[i("ul",{staticClass:"address-list"},e._l(e.infoList.list,function(t,s){return i("li",{key:t.id,staticClass:"address-item"},[i("span",{ref:"addressItem",refInFor:!0,staticClass:"icon-select",class:{active:t.id===e.addressInfo.id},on:{click:function(i){return e.selectAddress(t.id,s)}}},[i("i",{staticClass:"iconfont"},[e._v("")])]),e._v(" "),i("div",{staticClass:"info"},[i("p",{staticClass:"person"},[i("span",{staticClass:"name"},[e._v(e._s(t.receiverName))]),e._v(" "),i("span",{staticClass:"phone"},[e._v(e._s(t.receiverMobile))])]),e._v(" "),i("p",{staticClass:"address"},[e._v(e._s(t.receiverProvince)+e._s(t.receiverCity)+e._s(t.receiverAddress))])]),e._v(" "),i("div",{staticClass:"edit-wrap"},[i("i",{staticClass:"iconfont icon-edit",on:{click:function(i){return i.stopPropagation(),e.editAddress(t.id)}}},[e._v("")]),e._v(" "),i("i",{staticClass:"iconfont icon-edit delete",on:{click:function(i){return i.stopPropagation(),e.deleteAddress(t.id)}}},[e._v("")])])])}),0),e._v(" "),0===Object.keys(e.infoList).length?i("div",{staticClass:"loading-wrap"},[i("loading")],1):e._e(),e._v(" "),Array.isArray(e.infoList.list)&&!e.infoList.list.length?i("div",{staticClass:"no-address-tips"},[e._v("新建条地址吧~")]):e._e()]),e._v(" "),i("div",{staticClass:"new-create-address",on:{click:function(t){return e.createAddress()}}},[i("i",{staticClass:"iconfont icon-add"},[e._v("")]),e._v("新建收货地址\n  ")]),e._v(" "),i("trans-base",[i("div",{directives:[{name:"show",rawName:"v-show",value:e.isShowMask,expression:"isShowMask"}],staticClass:"new-create-mask"},[i("div",{staticClass:"new-create-content"},[i("h2",{staticClass:"title"},[i("span",[e._v(e._s(e.maskTitle))]),e._v(" "),i("i",{staticClass:"iconfont icon-close",on:{click:function(t){return e.hideMask()}}},[e._v("")])]),e._v(" "),i("ul",{staticClass:"info-list"},[i("li",{staticClass:"info-item"},[i("span",[i("i",{staticClass:"iconfont"},[e._v("")]),e._v("收件人姓名:")]),e._v(" "),i("div",{staticClass:"input-content"},[i("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.name,expression:"name",modifiers:{trim:!0}}],attrs:{type:"text",placeholder:"请输入收件人姓名"},domProps:{value:e.name},on:{input:function(t){t.target.composing||(e.name=t.target.value.trim())},blur:function(t){return e.$forceUpdate()}}})])]),e._v(" "),i("li",{staticClass:"info-item"},[i("span",[i("i",{staticClass:"iconfont"},[e._v("")]),e._v("所在城市:")]),e._v(" "),i("div",{staticClass:"input-content"},[i("select",{directives:[{name:"model",rawName:"v-model",value:e.province,expression:"province"}],on:{change:[function(t){var i=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){return"_value"in e?e._value:e.value});e.province=t.target.multiple?i:i[0]},function(t){return e.provincesSelect(!1)}]}},e._l(e.provincesList,function(t,s){return i("option",{key:s,attrs:{disabled:0===s},domProps:{value:t,selected:0===s}},[e._v(e._s(t))])}),0),e._v(" "),i("select",{directives:[{name:"model",rawName:"v-model",value:e.city,expression:"city"}],on:{change:function(t){var i=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){return"_value"in e?e._value:e.value});e.city=t.target.multiple?i:i[0]}}},e._l(e.citiesList,function(t,s){return i("option",{key:s,attrs:{disabled:0===s},domProps:{value:t,selected:0===s}},[e._v(e._s(t))])}),0)])]),e._v(" "),i("li",{staticClass:"info-item"},[i("span",[i("i",{staticClass:"iconfont"},[e._v("")]),e._v("详细地址:")]),e._v(" "),i("div",{staticClass:"input-content"},[i("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.address,expression:"address",modifiers:{trim:!0}}],attrs:{type:"text",placeholder:"请精准到门牌号"},domProps:{value:e.address},on:{input:function(t){t.target.composing||(e.address=t.target.value.trim())},blur:function(t){return e.$forceUpdate()}}})])]),e._v(" "),i("li",{staticClass:"info-item"},[i("span",[i("i",{staticClass:"iconfont"},[e._v("")]),e._v("收件人手机:")]),e._v(" "),i("div",{staticClass:"input-content"},[i("input",{directives:[{name:"model",rawName:"v-model.trim.number",value:e.phone,expression:"phone",modifiers:{trim:!0,number:!0}}],attrs:{type:"text",placeholder:"请输入11位手机号"},domProps:{value:e.phone},on:{input:function(t){t.target.composing||(e.phone=e._n(t.target.value.trim()))},blur:function(t){return e.$forceUpdate()}}})])])]),e._v(" "),i("div",{staticClass:"save",on:{click:function(t){return e.saveAddressInfoBtn()}}},[e._v("保存")])])])]),e._v(" "),i("confirm",{ref:"confirm",attrs:{title:"设置为默认地址？"},on:{confirm:e.setDefaultAddress}})],1)},staticRenderFns:[]};var k=i("VU/8")(A,C,!1,function(e){i("oM2Q")},"data-v-7b47b4ee",null);t.default=k.exports},Gu7T:function(e,t,i){"use strict";t.__esModule=!0;var s,n=i("c/Tr"),r=(s=n)&&s.__esModule?s:{default:s};t.default=function(e){if(Array.isArray(e)){for(var t=0,i=Array(e.length);t<e.length;t++)i[t]=e[t];return i}return(0,r.default)(e)}},"c/Tr":function(e,t,i){e.exports={default:i("5zde"),__esModule:!0}},fBQ2:function(e,t,i){"use strict";var s=i("evD5"),n=i("X8DO");e.exports=function(e,t,i){t in e?s.f(e,t,n(0,i)):e[t]=i}},oM2Q:function(e,t){},qyJz:function(e,t,i){"use strict";var s=i("+ZMJ"),n=i("kM2E"),r=i("sB3e"),a=i("msXi"),o=i("Mhyx"),c=i("QRG4"),d=i("fBQ2"),l=i("3fs2");n(n.S+n.F*!i("dY0y")(function(e){Array.from(e)}),"Array",{from:function(e){var t,i,n,v,u=r(e),p="function"==typeof this?this:Array,f=arguments.length,h=f>1?arguments[1]:void 0,m=void 0!==h,_=0,y=l(u);if(m&&(h=s(h,f>2?arguments[2]:void 0,2)),void 0==y||p==Array&&o(y))for(i=new p(t=c(u.length));t>_;_++)d(i,_,m?h(u[_],_):u[_]);else for(v=y.call(u),i=new p;!(n=v.next()).done;_++)d(i,_,m?a(v,h,[n.value,_],!0):n.value);return i.length=_,i}})}});
//# sourceMappingURL=2.88d7138334486b45b386.js.map