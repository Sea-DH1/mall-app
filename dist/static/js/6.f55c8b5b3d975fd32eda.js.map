{"version":3,"sources":["webpack:///./src/common/js/dom.js","webpack:///src/pages/shopcart/shopcart.vue","webpack:///./src/pages/shopcart/shopcart.vue?f87b","webpack:///./src/pages/shopcart/shopcart.vue","webpack:///./src/api/cart.js"],"names":["hasClass","el","className","RegExp","test","__webpack_exports__","shopcart","name","data","curIndex","shopList","shopCartCount","created","_this","this","setTimeout","_getCartList","_getCartNum","computed","list","cartProductVoList","methods","toSettlement","some","v","productChecked","$router","push","$notice","toggleSelectCartAll","_this2","allChecked","Object","cart","then","res","catch","ex","msg","toggleCartProduct","productId","index","_this3","removeCartProduct","_this4","cartProductCount","btn","_this5","maxCount","productStock","curCount","quantity","back","_this6","_this7","components","Scroll","scroll_scroll","Loading","loading","shopcart_shopcart","render","_vm","_h","$createElement","_c","_self","staticClass","_v","_s","attrs","Array","isArray","length","_l","item","key","id","ref","refInFor","class","active","for","on","click","$event","directives","rawName","value","expression","staticStyle","display","type","domProps","checked","_i","change","$$a","$$el","target","$$c","$$i","$set","concat","slice","imageHost","productMainImage","alt","productName","productTotalPrice","disabled","input","composing","keys","_e","cartTotalPrice","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","require","url","count","params","productIds","__WEBPACK_IMPORTED_MODULE_0__require__"],"mappings":"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","file":"static/js/6.f55c8b5b3d975fd32eda.js","sourcesContent":["export function hasClass(el, className) {\n  const reg = new RegExp(`(^|\\\\s)${className}(\\\\s|$)`);\n  return reg.test(el.className);\n}\n\nexport function addClass(el, className) {\n  if(!hasClass(el, className)) {\n    el.className += ` ${className}`;\n  }\n}\n\nexport function removeClass(el, className) {\n  if(hasClass(el, className)) {\n    const reg = new RegExp(`(^|\\\\s)${className}(\\\\s|$)`);\n    el.className = el.className.replace(reg, ' ');\n  }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/common/js/dom.js","<template>\n  <div>\n    <div class='page-title'>购物车({{shopCartCount}})</div>\n    <scroll class='cart-wrap' :data='list'>\n      <div class='wrap' v-if='Array.isArray(shopList.cartProductVoList) && !shopList.cartProductVoList.length'>\n        <i class='iconfont cart-icon'>&#xe635;</i>\n        <h2 class='tips'>购物车空空如也~</h2>\n        <p class='sub-tips'>“买点什么犒赏下自己吧~”</p>\n      </div>\n      <ul class='shopcart-list' v-else>\n        <li v-for='(item, index) in shopList.cartProductVoList' :key='item.id' class='shopcart-item'>\n          <label class='label' ref='label' :class='{active: item.productChecked}' :for='\"item_\"+item.id' @click='toggleCartProduct(item.productId, index)'>\n            <i class='iconfont icon-select'>&#xe605;</i>\n          </label>\n          <input :id='\"item_\"+item.id' type=\"checkbox\" style='display: none;' v-model='item.productChecked'>\n          <div class='item-info'>\n            <div class='img'>\n              <img v-lazy=\"shopList.imageHost+item.productMainImage\" alt=\"\">\n            </div>\n            <div class='text-info'>\n              <span class='name'>{{item.productName}}</span>\n              <div class='price-box'>\n                <div class='price'>￥{{item.productTotalPrice}}</div>\n                <div class='cart-num'>\n                  <span class='count-btn' @click='cartProductCount(-1, index, item.productId)'>-</span>\n                  <input type=\"text\" v-model='item.quantity' disabled>\n                  <span class='count-btn' @click='cartProductCount(1, index, item.productId)'>+</span>\n                </div>\n              </div>\n            </div>\n          </div>\n          <div class='remove-product' @click='removeCartProduct(item.productId)'>\n            <i class='iconfont'>&#xe7f5;</i>\n          </div>\n        </li>\n      </ul>\n      <div class='loading-wrap' v-if='Object.keys(shopList).length === 0'>\n        <loading />\n      </div>\n    </scroll>\n    <div class='cart-bottom-bar' v-if='Array.isArray(shopList.cartProductVoList) && shopList.cartProductVoList.length > 0'>\n      <div class='select-all-btn' @click='toggleSelectCartAll'>\n        <label for=\"cart-select-all\" class='cart-select-all' :class='{active: shopList.allChecked}'>\n          <i class='iconfont icon-select-all'>&#xe605;</i>\n        </label>\n        <span>全选</span>\n        <input id='cart-select-all' type=\"checkbox\" style='display: none;'>\n      </div>\n      <div class='total-price'>合计 :<b>￥{{shopList.cartTotalPrice}}</b></div>\n      <div class='go-settle' @click='toSettlement'>去结算</div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport Scroll from 'base/scroll/scroll';\nimport Loading from 'base/loading/loading';\nimport { getCartList, updateProductCount, removeProduct, selectProduct, unSelectProduct, selectAll, unSelectAll, getCartNum } from 'api/cart';\nimport { addClass, removeClass, hasClass } from 'common/js/dom';\n\nexport default {\n  name: 'shopcart',\n  data() {\n    return {\n      curIndex: '',\n      shopList: {},\n      shopCartCount: 0\n    }\n  },\n  created() {\n    setTimeout(() => {\n      this._getCartList();\n      this._getCartNum();\n    }, 20)\n  },\n  computed: {\n    list() {\n      return this.shopList.cartProductVoList;\n    }\n  },\n  methods: {\n    toSettlement() {\n      if (this.shopList.cartProductVoList.some(v => v.productChecked === 1)) {\n        this.$router.push('/settlement')\n      } else {\n        this.$notice('还没有勾选商品~');\n      }\n    },\n    toggleSelectCartAll() {  // 购物车全选\n      if (!this.shopList.allChecked) {\n        selectAll().then(res => {\n          this.shopList = res.data;\n        }).catch(ex => {\n          this.$notice(ex.msg);\n        })\n      } else {\n        unSelectAll().then(res => {  // 购物全反选\n          this.shopList = res.data;\n        }).catch(ex => {\n          this.$notice(ex.msg);\n        })\n      }\n    },\n    toggleCartProduct(productId, index) {\n      if (this.shopList.cartProductVoList[index].productChecked) {\n        unSelectProduct(productId).then(res => {  // 取消选中某件商品\n          this.shopList = res.data;\n        }).catch(ex => {\n          this.$notice(ex.msg);\n        })\n      } else {\n        selectProduct(productId).then(res => {  // 选中某个商品\n          this.shopList = res.data;\n        }).catch(ex => {\n          this.$notice(ex.msg);\n        })\n      }\n    },\n    removeCartProduct (productId) {\n      removeProduct(productId).then(res => {  // 移除某件商品\n        this.shopList = res.data;\n        this.$notice('移除商品成功');\n        this._getCartNum();\n      }).catch(ex => {\n        this.$notice(ex.msg);\n      })\n    },\n    cartProductCount(btn, index, productId) {\n      const maxCount = this.shopList.cartProductVoList[index].productStock;\n      let curCount = this.shopList.cartProductVoList[index].quantity;\n      if(btn === 1 && curCount < maxCount) {\n        curCount++;\n      } else if (btn === -1 && curCount > 1) {\n        curCount--;\n      } else {\n        return;\n      }\n      updateProductCount(productId, curCount).then(res => {  // 更新某件商品数量\n        this.shopList = res.data;\n        this.shopList.cartProductVoList[index].quantity = curCount;\n        this._getCartNum();\n      }).catch(ex => {\n        this.$notice(ex.msg);\n      })\n    },\n    back() {\n      this.$router.back();\n    },\n    _getCartNum() {\n      getCartNum().then(res => {\n        this.shopCartCount = res.data;\n      }).catch(ex => {\n        this.$notice(ex.msg);\n      })\n    },\n    _getCartList() {  // 获取购物车列表\n      getCartList().then(res => {\n        this.shopList = res.data;\n      }).catch(ex => {\n        this.$notice(ex.msg);\n      })\n    }\n  },\n  components: {\n    Scroll,\n    Loading\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n@import '~common/scss/mixins';\n\n  .page-title {\n    position: relative;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    height: 56px;\n    line-height: 56px;\n    color: #fff;\n    background: #ef5050;\n  }\n  .cart-wrap {\n    position: fixed;\n    top: 56px;\n    bottom: 106px;\n    width: 100%;\n    overflow: hidden;\n    .wrap {\n      min-height: 101%;\n      display: flex;\n      flex-direction: column;\n      align-items: center;\n      .cart-icon {\n        display: inline-block;\n        margin-top: 50px;\n        height: 66px;\n        line-height: 66px;\n        width: 66px;\n        text-align: center;\n        background: #ef5050;\n        color: #fff;\n        border-radius: 50%;\n        font-size: 50px;\n      }\n      .tips {\n        margin-top: 30px;\n        font-size: 18px;\n        font-weight: bold;\n        color: #666;\n      }\n      .sub-tips {\n        margin-top: 15px;\n        font-size: 14px;\n        color: #888;\n      }\n    }\n  }\n  .shopcart-list {\n    display: flex;\n    flex-direction: column;\n    padding-bottom: 10px;\n    .shopcart-item {\n      display: flex;\n      align-items: center;\n      justify-content: space-between;\n      margin-top: 20px;\n      padding: 0 10px;\n      min-height: 100px;\n      .label {\n        display: inline-block;\n        width: 15px;\n        height: 15px;\n        line-height: 15px;\n        flex: 0 0 15px;\n        text-align: center;\n        margin-right: 15px;\n        border: 2px solid #999;\n        border-radius: 50%;\n        transition: .3s all;\n        &.active {\n          border-color: #ef5050;\n          background: #ef5050;\n        }\n        .icon-select {\n          font-size: 12px;\n          color: #fff;\n        }\n      }\n      .item-info {\n        position: absolute;\n        left: 39px;\n        right: 49px;\n        display: flex;\n        align-items: center;\n        flex: 1;\n        padding: 10px;\n        border-radius: 10px;\n        border: 1px solid #ddd;\n        .img {\n          position: relative;\n          width: 80px;\n          height: 80px;\n          flex: 0 0 80px;\n          margin-right: 10px;\n          > img {\n            position: absolute;\n            top: 50%;\n            left: 50%;\n            width: auto;\n            height: auto;\n            display: block;\n            transform: translate(-50%, -50%);\n            max-width: 100%;\n            max-height: 100%;\n          }\n        }\n        .text-info {\n          font-size: 15px;\n          line-height: 18px;\n          overflow: hidden;\n          width: 100%;\n          .name {\n            display: inline-block;\n            width: 90%;\n            overflow: hidden;\n          }\n          .price-box {\n            display: flex;\n            justify-content: space-between;\n            margin-top: 10px;\n            .price {\n              color:#ef5050;\n            }\n            .cart-num {\n              display: flex;\n              .count-btn {\n                @include extend-click();\n              }\n              > input {\n                font-weight: 600;\n                margin: 0 10px;\n                padding: 0 5px;\n                width: 40px;\n                border-radius: 3px;\n                outline: none;\n                text-align: center;\n                color: #666;\n                box-sizing: border-box;\n                background: #eee;\n              }\n            }\n          }\n        }\n      }\n      .remove-product {\n        margin-left: 10px;\n        width: 30px;\n        height: 30px;\n        flex: 0 0 30px;\n        line-height: 30px;\n        text-align: center;\n        color: #fff;\n        border-radius: 50%;\n        background: #bbb;\n      }\n    }\n  }\n  .loading-wrap {\n    margin-top: 100px;\n  }\n  .cart-bottom-bar {\n    position: fixed;\n    bottom: 55px;\n    left: 0;\n    right: 0;\n    padding-left: 15px;\n    height: 50px;\n    line-height: 50px;\n    overflow: hidden;\n    border-top: 1px solid #ddd;\n    background: #fff;\n    .select-all-btn {\n      position: relative;\n      float: left;\n      line-height: 50px;\n      > span {\n        margin-left: 25px;\n        font-size: 14px;\n      }\n      .cart-select-all {\n        @include y-center();\n        display: inline-block;\n        width: 15px;\n        height: 15px;\n        margin-right: 5px;\n        border: 2px solid #999;\n        border-radius: 50%;\n        &.active {\n          background: #ef5050;\n          border-color: #ef5050;\n        }\n        .icon-select-all {\n          position: absolute;\n          top: 50%;\n          left: 50%;\n          transform: translate(-50%, -50%);\n          font-size: 12px;\n          color: #fff;\n        }\n      }\n    }\n    .total-price {\n      float: left;\n      margin-left: 20px;\n      line-height: 50px;\n      font-size: 14px;\n      > b {\n        font-size: 16px;\n        font-weight: 600;\n        color:#ef5050;\n      }\n    }\n    .go-settle {\n      float: right;\n      padding: 0 20px;\n      color: #fff;\n      background: #ef5050;\n    }\n  }\n</style>\n\n\n// WEBPACK FOOTER //\n// src/pages/shopcart/shopcart.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{staticClass:\"page-title\"},[_vm._v(\"购物车(\"+_vm._s(_vm.shopCartCount)+\")\")]),_vm._v(\" \"),_c('scroll',{staticClass:\"cart-wrap\",attrs:{\"data\":_vm.list}},[(Array.isArray(_vm.shopList.cartProductVoList) && !_vm.shopList.cartProductVoList.length)?_c('div',{staticClass:\"wrap\"},[_c('i',{staticClass:\"iconfont cart-icon\"},[_vm._v(\"\")]),_vm._v(\" \"),_c('h2',{staticClass:\"tips\"},[_vm._v(\"购物车空空如也~\")]),_vm._v(\" \"),_c('p',{staticClass:\"sub-tips\"},[_vm._v(\"“买点什么犒赏下自己吧~”\")])]):_c('ul',{staticClass:\"shopcart-list\"},_vm._l((_vm.shopList.cartProductVoList),function(item,index){return _c('li',{key:item.id,staticClass:\"shopcart-item\"},[_c('label',{ref:\"label\",refInFor:true,staticClass:\"label\",class:{active: item.productChecked},attrs:{\"for\":\"item_\"+item.id},on:{\"click\":function($event){return _vm.toggleCartProduct(item.productId, index)}}},[_c('i',{staticClass:\"iconfont icon-select\"},[_vm._v(\"\")])]),_vm._v(\" \"),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(item.productChecked),expression:\"item.productChecked\"}],staticStyle:{\"display\":\"none\"},attrs:{\"id\":\"item_\"+item.id,\"type\":\"checkbox\"},domProps:{\"checked\":Array.isArray(item.productChecked)?_vm._i(item.productChecked,null)>-1:(item.productChecked)},on:{\"change\":function($event){var $$a=item.productChecked,$$el=$event.target,$$c=$$el.checked?(true):(false);if(Array.isArray($$a)){var $$v=null,$$i=_vm._i($$a,$$v);if($$el.checked){$$i<0&&(_vm.$set(item, \"productChecked\", $$a.concat([$$v])))}else{$$i>-1&&(_vm.$set(item, \"productChecked\", $$a.slice(0,$$i).concat($$a.slice($$i+1))))}}else{_vm.$set(item, \"productChecked\", $$c)}}}}),_vm._v(\" \"),_c('div',{staticClass:\"item-info\"},[_c('div',{staticClass:\"img\"},[_c('img',{directives:[{name:\"lazy\",rawName:\"v-lazy\",value:(_vm.shopList.imageHost+item.productMainImage),expression:\"shopList.imageHost+item.productMainImage\"}],attrs:{\"alt\":\"\"}})]),_vm._v(\" \"),_c('div',{staticClass:\"text-info\"},[_c('span',{staticClass:\"name\"},[_vm._v(_vm._s(item.productName))]),_vm._v(\" \"),_c('div',{staticClass:\"price-box\"},[_c('div',{staticClass:\"price\"},[_vm._v(\"￥\"+_vm._s(item.productTotalPrice))]),_vm._v(\" \"),_c('div',{staticClass:\"cart-num\"},[_c('span',{staticClass:\"count-btn\",on:{\"click\":function($event){return _vm.cartProductCount(-1, index, item.productId)}}},[_vm._v(\"-\")]),_vm._v(\" \"),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(item.quantity),expression:\"item.quantity\"}],attrs:{\"type\":\"text\",\"disabled\":\"\"},domProps:{\"value\":(item.quantity)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(item, \"quantity\", $event.target.value)}}}),_vm._v(\" \"),_c('span',{staticClass:\"count-btn\",on:{\"click\":function($event){return _vm.cartProductCount(1, index, item.productId)}}},[_vm._v(\"+\")])])])])]),_vm._v(\" \"),_c('div',{staticClass:\"remove-product\",on:{\"click\":function($event){return _vm.removeCartProduct(item.productId)}}},[_c('i',{staticClass:\"iconfont\"},[_vm._v(\"\")])])])}),0),_vm._v(\" \"),(Object.keys(_vm.shopList).length === 0)?_c('div',{staticClass:\"loading-wrap\"},[_c('loading')],1):_vm._e()]),_vm._v(\" \"),(Array.isArray(_vm.shopList.cartProductVoList) && _vm.shopList.cartProductVoList.length > 0)?_c('div',{staticClass:\"cart-bottom-bar\"},[_c('div',{staticClass:\"select-all-btn\",on:{\"click\":_vm.toggleSelectCartAll}},[_c('label',{staticClass:\"cart-select-all\",class:{active: _vm.shopList.allChecked},attrs:{\"for\":\"cart-select-all\"}},[_c('i',{staticClass:\"iconfont icon-select-all\"},[_vm._v(\"\")])]),_vm._v(\" \"),_c('span',[_vm._v(\"全选\")]),_vm._v(\" \"),_c('input',{staticStyle:{\"display\":\"none\"},attrs:{\"id\":\"cart-select-all\",\"type\":\"checkbox\"}})]),_vm._v(\" \"),_c('div',{staticClass:\"total-price\"},[_vm._v(\"合计 :\"),_c('b',[_vm._v(\"￥\"+_vm._s(_vm.shopList.cartTotalPrice))])]),_vm._v(\" \"),_c('div',{staticClass:\"go-settle\",on:{\"click\":_vm.toSettlement}},[_vm._v(\"去结算\")])]):_vm._e()],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-9d8cabf8\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/pages/shopcart/shopcart.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-9d8cabf8\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./shopcart.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./shopcart.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./shopcart.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-9d8cabf8\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./shopcart.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-9d8cabf8\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/shopcart/shopcart.vue\n// module id = null\n// module chunks = ","import { require } from './require';\n\nexport function getCartList() {  // 获取购物车列表\n  return require({\n    url: '/cart/list.do'\n  })\n}\n\nexport function addProductToCart(productId, count) {  // 添加商品到购物车\n  return require({\n    url: '/cart/add.do',\n    params: {\n      productId,\n      count\n    }\n  })\n}\n\nexport function updateProductCount(productId, count) {  // 更新某个商品的数量\n  return require({\n    url: '/cart/update.do',\n    params: {\n      productId,\n      count\n    }\n  })\n}\n\nexport function removeProduct(productIds) {  // 移除购物车某个产品\n  return require({\n    url: '/cart/delete_product.do',\n    params: {\n      productIds\n    }\n  })\n}\n\nexport function selectProduct(productId) {  // 选中某个商品\n  return require({\n    url: '/cart/select.do',\n    params: {\n      productId\n    }\n  })\n}\n\nexport function unSelectProduct(productId) {  // 取消选中某个商品\n  return require({\n    url: '/cart/un_select.do',\n    params: {\n      productId\n    }\n  })\n}\n\nexport function getCartNum() {  // 查询在购物车里的产品数量\n  return require({\n    url: '/cart/get_cart_product_count.do'\n  })\n}\n\nexport function selectAll() {  // 购物车全选\n  return require({\n    url: '/cart/select_all.do'\n  })\n}\n\nexport function unSelectAll() {  // 购物车取消全选\n  return require({\n    url: '/cart/un_select_all.do'\n  })\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/api/cart.js"],"sourceRoot":""}