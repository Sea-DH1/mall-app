{"version":3,"sources":["webpack:///src/pages/mycenter/mycenter.vue","webpack:///./src/pages/mycenter/mycenter.vue?3cdf","webpack:///./src/pages/mycenter/mycenter.vue"],"names":["mycenter","data","username","activated","this","_getUserInfo","methods","_this","sessionStorage","getItem","Object","user","then","res","catch","ex","$notice","msg","userLogout","$refs","confirm","show","_this2","removeItem","components","TransBase","Confirm","confirm_confirm","mycenter_mycenter","render","_vm","_h","$createElement","_c","_self","staticClass","ref","style","attrs","tag","to","_v","_s","on","click","_e","title","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"uJA2CAA,GACAC,KADA,WAEA,OACAC,SAAA,KAGAC,UANA,WAOAC,KAAAC,gBAEAC,SACAD,aADA,WACA,IAAAE,EAAAH,KACAI,eAAAC,QAAA,eAAAL,KAAAF,UACQQ,OAAAC,EAAA,EAAAD,GAARE,KAAA,SAAAC,GACAN,EAAAL,SAAAW,EAAAZ,KAAAC,WACAY,MAAA,SAAAC,GACAR,EAAAS,QAAAD,EAAAE,QAIAC,WAVA,WAWAd,KAAAe,MAAAC,QAAAC,QAEAD,QAbA,WAaA,IAAAE,EAAAlB,KACMM,OAAAC,EAAA,EAAAD,GAANE,KAAA,SAAAC,GACAS,EAAApB,SAAA,GACAM,eAAAe,WAAA,aAIAC,YACAC,oBAAA,EACAC,QAAAC,EAAA,ICvEeC,GADEC,OAFjB,WAA0B,IAAAC,EAAA1B,KAAa2B,EAAAD,EAAAE,eAA0BC,EAAAH,EAAAI,MAAAD,IAAAF,EAAwB,OAAAE,EAAA,OAAAA,EAAA,OAA2BE,YAAA,cAAwBF,EAAA,OAAYG,IAAA,aAAAD,YAAA,cAAAE,MAAA,KAAAP,EAAA5B,SAAA,2CAAoH,KAAA4B,EAAA5B,SAAA+B,EAAA,eAA0CE,YAAA,YAAAG,OAA+BC,IAAA,MAAAC,GAAA,oCAAmDV,EAAAW,GAAA,qBAAAR,EAAA,KAAsCE,YAAA,wBAAkCL,EAAAW,GAAA,SAAAR,EAAA,OAA4BE,YAAA,gBAA0BL,EAAAW,GAAA,iBAAAX,EAAAY,GAAAZ,EAAA5B,UAAA,kBAAA4B,EAAAW,GAAA,KAAAR,EAAA,MAAsFE,YAAA,cAAwBF,EAAA,eAAoBE,YAAA,YAAAG,OAA+BC,IAAA,KAAAC,GAAA,kBAAgCV,EAAAW,GAAA,4BAAAR,EAAA,KAA6CE,YAAA,aAAuBL,EAAAW,GAAA,SAAAX,EAAAW,GAAA,KAAAR,EAAA,eAAgDE,YAAA,YAAAG,OAA+BC,IAAA,KAAAC,GAAA,2BAAyCV,EAAAW,GAAA,4BAAAR,EAAA,KAA6CE,YAAA,aAAuBL,EAAAW,GAAA,SAAAX,EAAAW,GAAA,KAAAR,EAAA,eAAgDE,YAAA,YAAAG,OAA+BC,IAAA,KAAAC,GAAA,0BAAwCV,EAAAW,GAAA,4BAAAR,EAAA,KAA6CE,YAAA,aAAuBL,EAAAW,GAAA,aAAAX,EAAAW,GAAA,KAAAR,EAAA,mBAAAH,EAAA5B,SAAA+B,EAAA,OAAmFE,YAAA,SAAAQ,IAAyBC,MAAAd,EAAAZ,cAAwBY,EAAAW,GAAA,UAAAX,EAAAe,QAAA,GAAAf,EAAAW,GAAA,KAAAR,EAAA,WAA4DG,IAAA,UAAAE,OAAqBQ,MAAA,WAAkBH,IAAKvB,QAAAU,EAAAV,WAAuBU,EAAAW,GAAA,KAAAR,EAAA,oBAEp3Cc,oBCCjB,IAcAC,EAdyBC,EAAQ,OAcjCC,CACElD,EACA4B,GATF,EAVA,SAAAuB,GACEF,EAAQ,SAaV,kBAEA,MAUeG,EAAA,QAAAJ,EAAiB","file":"static/js/13.1c59ee9f1a5c384e0512.js","sourcesContent":["<template>\n<div>\n  <div class='my-center'>\n    <div class='avatar-wrap' ref='avatarWrap' :style='username !== \"\" ? \"background: #ef5050\" : \"background: #eee\"'>\n      <router-link v-if='username === \"\"' tag='div' to='/login?redirect=%2Fmycenter%2F' class='not-login'>\n        登录 / 注册<i class='iconfont icon-login'>&#xe630;</i>\n      </router-link>\n      <div v-else class='after-login'>\n        欢迎你 {{username}}\n      </div>\n    </div>\n    <ul class='info-list'>\n      <router-link class='info-item' tag='li' to='/add-address'>\n        地址管理\n        <i class='iconfont'>&#xe630;</i>\n      </router-link>\n      <router-link class='info-item' tag='li' to='/mycenter/person-info'>\n        个人信息\n        <i class='iconfont'>&#xe630;</i>\n      </router-link>\n      <router-link class='info-item' tag='li' to='/mycenter/update-pwd'>\n        修改密码\n        <i class='iconfont'>&#xe630;</i>\n      </router-link>\n      <!-- <router-link class='info-item' tag='li' to='/mycenter/intro'>\n        关于MMall\n        <i class='iconfont'>&#xe630;</i>\n      </router-link> -->\n    </ul>\n    <trans-base>\n      <div class='logout' v-if='username !== \"\"' @click='userLogout'>退出登录</div>\n    </trans-base>\n  </div>\n  <confirm @confirm='confirm' ref='confirm' title='确定退出登录？'/>\n  <router-view/>\n</div>\n</template>\n\n<script>\nimport { logout, getUserInfo } from 'api/user';\nimport Confirm from 'base/confirm/confirm';\nimport TransBase from 'base/transition-base/transition-base';\n\nexport default {\n  data() {\n    return {\n      username: ''\n    }\n  },\n  activated() {\n    this._getUserInfo()\n  },\n  methods: {\n    _getUserInfo() {\n      if(sessionStorage.getItem('token') && this.username === '') {\n        getUserInfo().then(res => {\n          this.username = res.data.username;\n      }).catch(ex => {\n        this.$notice(ex.msg);\n      })\n      }\n    },\n    userLogout() {\n      this.$refs.confirm.show();\n    },\n    confirm() {\n      logout().then(res => {\n        this.username = '';\n        sessionStorage.removeItem('token');\n      });\n    }\n  },\n  components: {\n    TransBase,\n    Confirm\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n  .my-center {\n    position: fixed;\n    top: 0;\n    left: 0;\n    right: 0;\n    bottom: 55px;\n    background: #f8f8f8;\n    .avatar-wrap {\n      height: 56px;\n      display: flex;\n      align-items: center;\n      padding: 0 20px;\n      border-radius: 0 0 5% 5%;\n      background: #eee;\n      .avatar {\n        position: relative;\n        width: 60px;\n        height: 60px;\n        margin-right: 20px;\n        > img {\n          position: absolute;\n          top: 50%;\n          left: 50%;\n          transform: translate(-50%, -50%);\n          display: block;\n          max-width: 100%;\n          max-height: 100%;\n          width: auto;\n          height: auto;\n        }\n      }\n      .not-login {\n        color: #666;\n        font-size: 14px;\n        .icon-login {\n          font-size: 14px;\n        }\n      }\n      .after-login {\n        font-size: 14px;\n        color: #fff;\n      }\n    }\n    .info-list {\n      display: flex;\n      flex-direction: column;\n      margin-top: 10px;\n      border-top: 1px solid #e8e8e8;\n      border-bottom: 1px solid #e8e8e8;\n      .info-item {\n        display: flex;\n        justify-content: space-between;\n        align-items: center;\n        padding: 0 20px;\n        color: #666;\n        height: 40px;\n        font-size: 14px;\n        background: #fff;\n      }\n      .info-item + .info-item {\n        border-top: 1px solid #e8e8e8;\n      }\n    }\n    .logout {\n      position: fixed;\n      bottom: 100px;\n      width: 70%;\n      height: 40px;\n      line-height: 40px;\n      border-radius: 20px;\n      left: 50%;\n      color: #888;\n      border: 1px solid #ddd;\n      text-align: center;\n      transform: translateX(-50%);\n      background:#fff;\n    }\n  }\n</style>\n\n\n// WEBPACK FOOTER //\n// src/pages/mycenter/mycenter.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{staticClass:\"my-center\"},[_c('div',{ref:\"avatarWrap\",staticClass:\"avatar-wrap\",style:(_vm.username !== \"\" ? \"background: #ef5050\" : \"background: #eee\")},[(_vm.username === \"\")?_c('router-link',{staticClass:\"not-login\",attrs:{\"tag\":\"div\",\"to\":\"/login?redirect=%2Fmycenter%2F\"}},[_vm._v(\"\\n        登录 / 注册\"),_c('i',{staticClass:\"iconfont icon-login\"},[_vm._v(\"\")])]):_c('div',{staticClass:\"after-login\"},[_vm._v(\"\\n        欢迎你 \"+_vm._s(_vm.username)+\"\\n      \")])],1),_vm._v(\" \"),_c('ul',{staticClass:\"info-list\"},[_c('router-link',{staticClass:\"info-item\",attrs:{\"tag\":\"li\",\"to\":\"/add-address\"}},[_vm._v(\"\\n        地址管理\\n        \"),_c('i',{staticClass:\"iconfont\"},[_vm._v(\"\")])]),_vm._v(\" \"),_c('router-link',{staticClass:\"info-item\",attrs:{\"tag\":\"li\",\"to\":\"/mycenter/person-info\"}},[_vm._v(\"\\n        个人信息\\n        \"),_c('i',{staticClass:\"iconfont\"},[_vm._v(\"\")])]),_vm._v(\" \"),_c('router-link',{staticClass:\"info-item\",attrs:{\"tag\":\"li\",\"to\":\"/mycenter/update-pwd\"}},[_vm._v(\"\\n        修改密码\\n        \"),_c('i',{staticClass:\"iconfont\"},[_vm._v(\"\")])])],1),_vm._v(\" \"),_c('trans-base',[(_vm.username !== \"\")?_c('div',{staticClass:\"logout\",on:{\"click\":_vm.userLogout}},[_vm._v(\"退出登录\")]):_vm._e()])],1),_vm._v(\" \"),_c('confirm',{ref:\"confirm\",attrs:{\"title\":\"确定退出登录？\"},on:{\"confirm\":_vm.confirm}}),_vm._v(\" \"),_c('router-view')],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-50331b80\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/pages/mycenter/mycenter.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-50331b80\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./mycenter.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./mycenter.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./mycenter.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-50331b80\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./mycenter.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-50331b80\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/mycenter/mycenter.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}