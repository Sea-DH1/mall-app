{"version":3,"sources":["webpack:///./src/api/order.js","webpack:///src/pages/settlement/settlement.vue","webpack:///./src/pages/settlement/settlement.vue?2a5c","webpack:///./src/pages/settlement/settlement.vue"],"names":["__webpack_exports__","id","require","url","params","shippingId","pageNum","pageSize","orderNo","__WEBPACK_IMPORTED_MODULE_0__require__","__webpack_require__","settlement","name","data","submitOrderList","created","_this","this","setTimeout","_getOrderCartList","computed","extends_default","hasAddressInfo","keys_default","addressInfo","length","Object","vuex_esm","methods","handleCreateOrder","_this2","order","then","res","$router","push","$notice","back","_this3","catch","ex","msg","components","Scroll","scroll_scroll","RedTitle","red_title","Loading","loading","settlement_settlement","render","_vm","_h","$createElement","_c","_self","on","_v","staticClass","attrs","tag","to","_s","phone","province","city","address","_l","item","key","productId","directives","rawName","value","imageHost","productImage","expression","alt","productName","totalPrice","quantity","keys","_e","click","productTotalPrice","staticRenderFns","Component","normalizeComponent","ssrContext"],"mappings":"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","file":"static/js/8.82d0e1ba9b334df39654.js","sourcesContent":["import { require } from './require';\n\nexport function createOrder(id) {  // 创建订单\n  return require({\n    url: '/order/create.do',\n    params: {\n      shippingId: id\n    }\n  })\n}\n\nexport function getOrderCartList() {  // 获取提交订单商品列表\n  return require({\n    url: '/order/get_order_cart_product.do'\n  })\n}\n\nexport function getOrderList(pageNum, pageSize) {  // 获取订单列表\n  return require({\n    url: '/order/list.do',\n    params: {\n      pageNum,\n      pageSize\n    }\n  })\n}\n\nexport function cancelOrder(orderNo) {  // 取消订单\n  return require({\n    url: '/order/cancel.do',\n    params: {\n      orderNo\n    }\n  })\n}\n\n\n// WEBPACK FOOTER //\n// ./src/api/order.js","<template>\n  <div>\n    <div>\n      <red-title @back='back'/>\n      <scroll class='confirm-order-info'>\n        <div class='order-wrap'>\n          <router-link tag='div' to='/add-address'>\n            <div class='address-wrap' v-if='hasAddressInfo'>\n                <i class='iconfont icon-address'>&#xe64e;</i>\n              <div class='info'>\n                <div class='name'>\n                  <span class='person'>收件人: {{addressInfo.name}}</span>\n                  <span class='phone'>{{addressInfo.phone}}</span>\n                </div>\n                <div class='detail-address'>\n                  <p class='address-text'>{{addressInfo.province}}{{addressInfo.city}}{{addressInfo.address}}</p>\n                  <i class='iconfont'>&#xe630;</i>\n                </div>\n              </div>\n            </div>\n            <div class='no-address' v-else>\n              还没有选择默认地址，去选择<i class='iconfont'>&#xe630;&#xe630;</i>\n            </div>\n          </router-link>\n          <ul class='product-info-wrap'>\n            <router-link tag='li' class='product-info-item' v-for='item in submitOrderList.orderItemVoList' :key='item.productId' :to='\"/product-list/\"+item.productId'>\n              <div class='img'>\n                <img v-lazy=\"submitOrderList.imageHost+item.productImage\" alt=\"\">\n              </div>\n              <div class='product-info'>\n                <p class='title'>{{item.productName}}</p>\n                <p class='price-info'>\n                  <span class='price'>￥{{item.totalPrice}}</span>\n                  <span class='total'>x{{item.quantity}}</span>\n                </p>\n              </div>\n            </router-link>\n          </ul>\n        </div>\n        <div class='loading-wrap' v-if='Object.keys(submitOrderList).length === 0'>\n          <loading/>\n        </div>\n      </scroll>\n      <div class='submit-wrap'>\n        <div class='submit-btn' @click='handleCreateOrder'>提交订单</div>\n        <p class='total-all'>合计金额: <span>￥{{submitOrderList.productTotalPrice}}</span></p>\n      </div>\n    </div>\n    <router-view></router-view>\n  </div>\n</template>\n\n<script>\nimport Scroll from 'base/scroll/scroll';\nimport RedTitle from 'base/red-title/red-title';\nimport Loading from 'base/loading/loading';\nimport { getOrderCartList, createOrder } from 'api/order';\nimport { mapGetters } from 'vuex';\n\nexport default {\n  name: 'settlement',\n  data() {\n    return {\n      submitOrderList: {}\n    }\n  },\n  created() {\n    setTimeout(() => {\n      this._getOrderCartList();\n    }, 20)\n  },\n  computed: {\n    hasAddressInfo() {\n      return Object.keys(this.addressInfo).length > 0;\n    },\n    ...mapGetters([\n      'addressInfo'\n    ])\n  },\n  methods: {\n    handleCreateOrder() {\n      if(!this.addressInfo.id) {\n        this.$notice('请选择收货地址');\n        return;\n      }\n      createOrder(this.addressInfo.id).then(res => {\n        this.$router.push({\n          name: 'pay',\n          params: {\n            orderNo: res.data.orderNo\n          }\n        })\n      })\n    },\n    back() {\n      this.$router.push('/shopcart');\n    },\n    _getOrderCartList() {\n      getOrderCartList().then(res => {\n        this.submitOrderList = res.data;\n      }).catch(ex => {\n        this.$notice(ex.msg);\n        setTimeout(() => {\n          this.$router.push('/shopcart');\n        }, 1000);\n      })\n    }\n  },\n  components: {\n    Scroll,\n    RedTitle,\n    Loading\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n\n  .confirm-order-info {\n    position: relative;\n    position: fixed;\n    top: 56px;\n    width: 100%;\n    bottom: 50px;\n    background: #f8f8f8;\n    overflow: hidden;\n    padding-top: 10px;\n    z-index: 999;\n    .order-wrap {\n      min-height: 101%;\n      .address-wrap {\n        display: flex;\n        align-items: center;\n        padding: 15px 5px;\n        margin: 5px 5px 15px 5px;\n        border-radius: 5px;\n        box-shadow: 0 3px 5px 0 #eee;\n        background: #fff;\n        .icon-address {\n          flex: 0 0 30px;\n          width: 30px;\n          text-align: center;\n        }\n        .info {\n          margin: 10px 0 10px 10px;\n          flex: 1;\n          color: #555;\n          .name {\n            display: flex;\n            justify-content: space-between;\n            padding-right: 10px;\n            line-height: 22px;\n          }\n          .detail-address {\n            display: flex;\n            justify-content: space-between;\n            align-items: center;\n            margin-top: 10px;\n            line-height: 22px;\n            > i {\n              margin-right: 10px;\n              margin-left: 10px;\n            }\n          }\n        }\n      }\n      .no-address {\n        color: #666;\n        text-align: center;\n        margin: 5px 5px 15px 5px;\n        box-shadow: 0 3px 5px 0 #eee;\n        padding: 20px 10px;\n        background: #fff;\n      }\n      .product-info-wrap {\n        .product-info-item {\n          display: flex;\n          align-items: center;\n          padding: 10px;\n          margin: 0 10px;\n          border-radius: 5px;\n          background: #fff;\n          .img {\n            position: relative;\n            height: 60px;\n            width: 60px;\n            flex: 0 0 60px;\n            > img {\n              position: absolute;\n              top: 50%;\n              left: 50%;\n              transform: translate(-50%, -50%);\n              width: auto;\n              height: auto;\n              max-width: 100%;\n              max-height: 100%;\n            }\n          }\n          .product-info {\n            display: flex;\n            flex: 1;\n            flex-direction: column;\n            padding: 0 10px;\n            .title {\n              line-height: 22px;\n              font-size: 15px;\n              color: #666;\n            }\n            .price-info {\n              display: flex;\n              justify-content: space-between;\n              margin-top: 10px;\n              .price {\n                color: #ef5050;\n              }\n              .total {\n                color: #666;\n                font-size: 15px;\n              }\n            }\n          }\n        }\n      }\n    }\n    .loading-wrap{\n      position: absolute;\n      top: 35%;\n      left: 50%;\n      transform: translate(-50%, -50%);\n    }\n  }\n  .submit-wrap {\n    position: fixed;\n    bottom: 0;\n    display: flex;\n    flex-direction: row-reverse;\n    align-items: center;\n    width: 100%;\n    height: 50px;\n    background: #fff;\n    z-index: 999;\n    .total-all {\n      margin-right: 20px;\n      color: #666;\n      font-size: 18px;\n      > span {\n        font-size: 16px;\n        color: #ef5050;\n      }\n    }\n    .submit-btn {\n      height: 50px;\n      line-height: 50px;\n      padding: 0 20px;\n      color: #fff;\n      background: #ef5050;\n    }\n  }\n</style>\n\n\n// WEBPACK FOOTER //\n// src/pages/settlement/settlement.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',[_c('red-title',{on:{\"back\":_vm.back}}),_vm._v(\" \"),_c('scroll',{staticClass:\"confirm-order-info\"},[_c('div',{staticClass:\"order-wrap\"},[_c('router-link',{attrs:{\"tag\":\"div\",\"to\":\"/add-address\"}},[(_vm.hasAddressInfo)?_c('div',{staticClass:\"address-wrap\"},[_c('i',{staticClass:\"iconfont icon-address\"},[_vm._v(\"\")]),_vm._v(\" \"),_c('div',{staticClass:\"info\"},[_c('div',{staticClass:\"name\"},[_c('span',{staticClass:\"person\"},[_vm._v(\"收件人: \"+_vm._s(_vm.addressInfo.name))]),_vm._v(\" \"),_c('span',{staticClass:\"phone\"},[_vm._v(_vm._s(_vm.addressInfo.phone))])]),_vm._v(\" \"),_c('div',{staticClass:\"detail-address\"},[_c('p',{staticClass:\"address-text\"},[_vm._v(_vm._s(_vm.addressInfo.province)+_vm._s(_vm.addressInfo.city)+_vm._s(_vm.addressInfo.address))]),_vm._v(\" \"),_c('i',{staticClass:\"iconfont\"},[_vm._v(\"\")])])])]):_c('div',{staticClass:\"no-address\"},[_vm._v(\"\\n            还没有选择默认地址，去选择\"),_c('i',{staticClass:\"iconfont\"},[_vm._v(\"\")])])]),_vm._v(\" \"),_c('ul',{staticClass:\"product-info-wrap\"},_vm._l((_vm.submitOrderList.orderItemVoList),function(item){return _c('router-link',{key:item.productId,staticClass:\"product-info-item\",attrs:{\"tag\":\"li\",\"to\":\"/product-list/\"+item.productId}},[_c('div',{staticClass:\"img\"},[_c('img',{directives:[{name:\"lazy\",rawName:\"v-lazy\",value:(_vm.submitOrderList.imageHost+item.productImage),expression:\"submitOrderList.imageHost+item.productImage\"}],attrs:{\"alt\":\"\"}})]),_vm._v(\" \"),_c('div',{staticClass:\"product-info\"},[_c('p',{staticClass:\"title\"},[_vm._v(_vm._s(item.productName))]),_vm._v(\" \"),_c('p',{staticClass:\"price-info\"},[_c('span',{staticClass:\"price\"},[_vm._v(\"￥\"+_vm._s(item.totalPrice))]),_vm._v(\" \"),_c('span',{staticClass:\"total\"},[_vm._v(\"x\"+_vm._s(item.quantity))])])])])}),1)],1),_vm._v(\" \"),(Object.keys(_vm.submitOrderList).length === 0)?_c('div',{staticClass:\"loading-wrap\"},[_c('loading')],1):_vm._e()]),_vm._v(\" \"),_c('div',{staticClass:\"submit-wrap\"},[_c('div',{staticClass:\"submit-btn\",on:{\"click\":_vm.handleCreateOrder}},[_vm._v(\"提交订单\")]),_vm._v(\" \"),_c('p',{staticClass:\"total-all\"},[_vm._v(\"合计金额: \"),_c('span',[_vm._v(\"￥\"+_vm._s(_vm.submitOrderList.productTotalPrice))])])])],1),_vm._v(\" \"),_c('router-view')],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-f4f5f3e2\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/pages/settlement/settlement.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-f4f5f3e2\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./settlement.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./settlement.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./settlement.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-f4f5f3e2\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./settlement.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-f4f5f3e2\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/settlement/settlement.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}